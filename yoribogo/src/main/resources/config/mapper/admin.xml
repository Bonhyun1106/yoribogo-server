<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.yoribogo.repository.dao.AdminMapper">

	<resultMap type="notice" id="NoticeMap">
		<result column="ad_notice_no" property="no"/>
		<result column="ad_notice_content" property="content"/>
		<result column="ad_notice_reg_date" property="regDate"/>
		<result column="ad_notice_writer" property="writer"/>
	</resultMap>
	
	<resultMap type="banner" id="BannerMap">
		<result column="ad_banner_no" property="no"/>
		<result column="ad_banner_title" property="title"/>
		<result column="ad_banner_content" property="content"/>
		<result column="ad_banner_img_link" property="link"/>
	</resultMap>
	
	
	<resultMap id="recipeMap" type="recipe">
		<result column="recipe_no" property="no" />
		<result column="mem_no"	 property="memNo" />
		<result column="recipe_title" property="title" />
		<result column="recipe_summary" property="summary" />
		<result column="recipe_view_cnt" property="viewCnt" />
		<result column="recipe_like_cnt" property="likeCnt" />
		<result column="recipe_reg_date" property="regDate" />
		<result column="recipe_country" property="country" />
		<result column="recipe_type" property="type" />
		<result column="recipe_kcal" property="kcal" />
		<result column="recipe_time" property="time" />
		<result column="recipe_level" property="level" />
		<result column="recipe_weather" property="weather" />
	</resultMap>
	
	
	<resultMap id="memberMap" type="member">
		<result column="mem_no" property="memNo" />
		<result column="mem_id"	property="memId" />
		<result column="mem_password" property="memPassword" />
		<result column="mem_email" property="memEmail" />
		<result column="mem_favor1" property="memFavor1" />
		<result column="mem_favor2" property="memFavor2" />
		<result column="mem_favor3" property="memFavor3" />
		<result column="mem_join_date" property="memJoinDate" />
		<result column="mem_profile" property="memProfile" />
		<result column="mem_report_count" property="memReportCount" />
		<result column="mem_is_out" property="memIsOut" />
	</resultMap>
	
	
	<!-- 1. 회원현황 -->
	
	
	<!-- 회원 검색 -->
	<!--	<select id="selectBoard" resultMap="boardMap">
		select mem_no, mem_id, mem_join_date, mem_report_count, 
		  from tb_member;
		 order by no desc
	</select>
	-->
	
	
	
	
	
	
	
	
	<!-- 2. 게시글 관리  -->
	
	
	
	<!-- 게시글 관리 -->
	<select id="selectRecipe" parameterType="page" resultMap="recipeMap">
		select  r.recipe_no, r.recipe_title, r.recipe_reg_date, r.recipe_view_cnt, m.mem_id
		  from (select rownum rnum, a.*
		          from ( select *
		                   from tb_recipe r, tb_member m where r.MEM_NO =  m.mem_no
		                  order by recipe_no desc) a
		       )   
		 where rnum between #{begin} and #{end}
	</select>
	
	
	<select id="selectRecipeCount" resultType="int">
		select count(*)
		  from tb_recipe
	</select>
	
	
	 
	<!-- 공지사항 등록
	<insert id="insertNotice" parameterType="notice">
		insert into tb_admin_notice (
			ad_notice_no, ad_notice_content, ad_notice_reg_date, ad_notice_writer
		) values (
			s_ad_notice_no.nextval, #{content}, sysdate, #{writer}
		)
	</insert>
	-->
	
	<!-- 배너 등록 
	<insert id="insertBanner" parameterType="banner">
		insert into tb_admin_banner(
			ad_banner_no, ad_banner_title,ad_banner_content,ad_banner_img_link
		)values(
			s_ad_banner_no.nextval, #{title},#{content},#{link}
		)
	</insert>
	-->
	
</mapper>
























