<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<!-- 이 xml을 사용할 클래스 경로를 준다. 패키지명과 함께..   -->
<mapper namespace="kr.co.yoribogo.repository.dao.SignupMapper">
	<!--id check-->
	<select id="getMemIdOnly" parameterType="String" resultType="int">
		select count(*)
		  from tb_member
		 where mem_id = #{id}
	</select>
	<!--email check-->
	<select id="getMemEmailOnly" parameterType="String" resultType="int">
		select count(*)
		  from tb_member
		 where mem_email =#{email}
	</select>
	
	<insert id="insertMember" parameterType="member">
		insert into tb_member (
			mem_no,mem_id,mem_password,
			mem_email, mem_profile) values (
			s_mem_no.nextval,
			#{memId},
			CryptString.encrypt(#{memPassword},'key'),
			#{memEmail},
			#{memProfile}
			)
	</insert>
	
</mapper>